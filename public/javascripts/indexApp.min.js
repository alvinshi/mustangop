app.directive("thNav",function(){return{restrict:"E",templateUrl:"/html/navbar.html",controller:function($scope,$element,$http){var indexUrl="/index";loadNav(),$scope.userObjectId=getCookie("userIdCookie"),$http.get(indexUrl).success(function(response){$scope.refusedCount=response.refusedCount});var unCheckCountUrl="/index/unCheckTaskCount";$http.get(unCheckCountUrl).success(function(response){$scope.pendingCount=response.pendingCount});var getMessage="/index/unreadMsg";$http.get(getMessage).success(function(response){$scope.unreadMsgCount=response.unreadMsgCount})}}}),app.directive("thFooter",function(){return{restrict:"E",templateUrl:"/html/footer.html",controller:function(){var obtn=document.getElementById("btn"),clientHeight=document.documentElement.clientHeight,timer=null,isTop=!0;window.onscroll=function(){var osTop=document.documentElement.scrollTop||document.body.scrollTop;osTop>=clientHeight?obtn.style.display="block":obtn.style.display="none",isTop||clearInterval(timer),isTop=!1},obtn.onclick=function(){timer=setInterval(function(){var osTop=document.documentElement.scrollTop||document.body.scrollTop,ispeed=Math.floor(-osTop/6);document.documentElement.scrollTop=document.body.scrollTop=osTop+ispeed,isTop=!0,0==osTop&&clearInterval(timer)},30)}}}}),app.controller("indexAppCtrl",function($scope,$http,$location){$scope.unreadNotice=!1,$scope.chuxian=!1;var index=navIndex;$scope.myColors=["white","white","white","white","white","white","white"],$scope.myColors[index]="#3498db",$scope.logout=function(){clearCookie("userIdCookie"),clearCookie("username"),location.href="/"}});