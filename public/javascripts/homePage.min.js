var app=angular.module("yemaWebApp",[]),navIndex=0;app.controller("homePageCtrl",function($scope,$http){$scope.inviteUrl="http://www.mustangop.com/user/register/"+getCookie("userIdCookie"),$scope.copyUrl=function(){$("#alert-btn").popover("toggle");var Url=document.getElementById("invitecopy");Url.select(),document.execCommand("Copy")},$("#myCarousel").carousel({interval:5e3}),$("#myCarousel1").carousel({interval:3e3});var bannerurl="homePage/banner";$http.get(bannerurl).success(function(response){$scope.bannerUrl=response.bannerUrl});var ischeckinsUrl="homePage/ischeckins";$http.get(ischeckinsUrl).success(function(response){0==response.errorId&&($scope.isCheckIns=response.isCheckIns,$scope.todayYB=response.todayYB,$scope.continueCheck=response.continueCheck,$scope.latestDays=response.latestDays)}),$scope.butCheckIns=function(){var checkInsURL="homePage/checkIns";$http.post(checkInsURL,{}).success(function(response){$scope.errorId=response.errorId,$scope.errorMsg=response.errorMsg,0==response.errorId&&($scope.errorId=response.errorId,$scope.errorMsg=response.errorMsg,$scope.isCheckIns=1)})},$scope.jump=function(curren){window.open("http://aso100.com/app/rank/appid/"+curren.appleId+"/country/cn")},$scope.jump1=function(curren){window.open("http://aso100.com/app/keyword/appid/"+curren.appleId+"/country/cn")},$scope.jump2=function(curren){window.open("http://aso100.com/app/comment/appid/"+curren.appleId+"/country/cn")},$scope.jump3=function(curren){window.open("http://aso100.com/app/download/appid/"+curren.appleId+"/country/cn")};var indexUrl="/index";$http.get(indexUrl).success(function(response){$scope.toDoCount=response.toDoCount,$scope.refusedCount=response.refusedCount});var unCheckCountUrl="/index/unCheckTaskCount";$http.get(unCheckCountUrl).success(function(response){$scope.pendingCount=response.pendingCount});var myReleaseTaskUrl="homePage/myReleaseTask";$http.get(myReleaseTaskUrl).success(function(response){$scope.myReleaseTask=response.myReleaseTaskInfo,$scope.myReleaseTask.length<=0&&($scope.noApp=!0)});var noviceTaskUrl="homePage/noviceTask";$http.get(noviceTaskUrl).success(function(response){$scope.noviceTaskObject=response.noviceTaskObject}),clickToReceive=function(button){var actionId=button.getAttribute("data-id"),userReceiveAwardUrl="homePage/userReceiveAward",transferMoney={actionId:actionId};$http.post(userReceiveAwardUrl,transferMoney).success(function(response){$scope.errorId=response.errorId,$scope.errorMsg=response.errorMsg,0==response.errorId&&($scope.errorId=response.errorId,$scope.errorMsg=response.errorMsg,"finishNoviceTask"==actionId?$scope.noviceTaskObject.noviceTaskAcceptReward=-1:"uploadHaveReceive"==actionId?$scope.noviceTaskObject.noviceReward=-1:"inviteUserReward"==actionId?$scope.noviceTaskObject.canReceive=0:"guideUserRewardYB"==actionId&&($scope.noviceTaskObject.successCanReceive=0))})}});