var app=angular.module("yemaWebApp",[]),navIndex=3;app.controller("taskCheckCtrl",function(a,b,c){a.currentTaskId=void 0,a.noApp=!1,a.myObj=Object();var d="/taskCheck/taskAudit";b.get(d).success(function(b){a.taskAudit=b.taskAudit,a.taskAudit.length>0?(a.taskIndex=0,a.taskDisplayed=a.taskAudit[0],e(a.taskDisplayed.taskId)):a.noApp=!0}),a.check=function(b,c){a.taskIndex=c,a.taskDisplayed=b,e(b.taskId)};var e=function(c){a.currentTaskId=c;var d="/taskCheck/specTaskCheck/"+c;b.get(d).success(function(b){a.specTask=b.rtnResults})};a.confirmCancel=function(a){var c="/taskCheck/cancelTask/"+a;console.log(a),b.get(c).success(function(a){location.reload()})},a.checkText=function(){a.myObj.rejectReason.length>20&&(a.myObj.rejectReason=a.myObj.rejectReason.substr(0,20))},a.accept=function(c){var d=c.id;c.status=3;var f="/taskCheck/accept/"+d;b.post(f).success(function(b){e(a.currentTaskId)})},a.reject=function(c){var d=!0;if(a.required=!1,""!=a.myObj.rejectReason&&void 0!=a.myObj.rejectReason||(d=!1,a.required=!0),d){var f="/taskCheck/reject/"+c,g={rejectReason:a.myObj.rejectReason};b.post(f,g).success(function(b){$("#rejectreason"+c).modal("hide"),a.myObj.rejectReason="",e(a.currentTaskId)})}},a.addApp=function(a){$("#"+a).popover("toggle")}});