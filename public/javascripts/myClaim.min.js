var app=angular.module("yemaWebApp",[]),navIndex=2;app.controller("myClaimControl",function($scope,$http,$location){$scope.noApp=!0;var appurlList=$location.absUrl().split("/"),userId=appurlList[appurlList.length-1],todayUrl="/myClaim/claim/"+userId;$http.get(todayUrl).success(function(response){$scope.dailyTask=response.myClaimApps;for(var i=0;i<response.myClaimApps.length;i++)response.myClaimApps[i].mode=!0,console.log(response.myClaimApps[i]),console.log(response.myClaimApps[i].rejected),response.myClaimApps[i].rejected>0?response.myClaimApps[i].status="有拒绝":response.myClaimApps[i].accepted==response.myClaimApps[i].totalExcCount?response.myClaimApps[i].status="完成":response.myClaimApps[i].submitted>0?response.myClaimApps[i].status="审核中":response.myClaimApps[i].status="进行中";$scope.dailyTask.length>0&&($scope.noApp=!1)}),$scope.copy=$location.absUrl(),$scope.reAssign=function(app){app.mode=!1,console.log("changed")},$scope.saveRemark=function(detailRem,taskObjectId,app){var saveurl="/myClaim/saveRemark/"+userId;$http.post(saveurl,{remark:detailRem,taskObjectId:taskObjectId}).success(function(response){app.mode=!0})},$scope.url=$location.absUrl(),$scope.copyUrl=function(){$("#btn").popover("toggle");var Url=document.getElementById("copy");Url.select(),document.execCommand("Copy")}});