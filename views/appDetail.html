<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <title>野马运营</title>
    <!-- Place favicon.ico in the root directory -->

    <!-- 引入 AngularJS Mini 文件 -->
    <script src="/javascripts/vendor/AngularJS/angular.min.js"></script>

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!--第三方 CSS JS-->
    <link rel="stylesheet" href="../stylesheets/vendor/font-awesome.min.css">
    <link rel="stylesheet" href="../stylesheets/loading.css">
    <link rel="stylesheet" href="/stylesheets/vendor/hover/hover-min.css">
    <link rel="stylesheet" href="/stylesheets/appDetail.css">
    <link rel="stylesheet" href="/stylesheets/appDetailNav.css">
    <script src="/javascripts/vendor/AngularJS/angular-file-upload.min.js"></script>
    <script src="/javascripts/vendor/AngularJS/angular-ui-router.js"></script>
    <script src="/javascripts/vendor/html2canvas.js"></script>

    <!--网站内部js-->


    <script src="/javascripts/appDetail.js"></script>
    <script src="/javascripts/indexApp.js"></script>

    <script type="text/javascript">
        $(function(){
            $(".subNav").click(function(){
                $(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd")
                $(this).toggleClass("currentDt").siblings(".subNav").removeClass("currentDt")

                // 修改数字控制速度， slideUp(500)控制卷起速度
                $(this).next(".navContent").slideToggle(500).siblings(".navContent").slideUp(500);
            })
        })
    </script>



</head>


<body ng-app="yemaWebApp">
<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">更新您的浏览器</a> 从而获得更好的体验.</p>
<![endif]-->

<!--导航栏-->
<div class="container" ng-controller="indexAppCtrl" >
    <th-nav></th-nav>
</div>


<div class="container main"  ng-controller="myAppControl" >
    <div class="row">
        <div class="col-lg-3 col-xs-3 change row_first_left ">
            <img class="appicon" ng-src="{{  appBaseInfo.artworkUrl100 }}" alt="App Icon">
            <p class="appname">{{ appBaseInfo.trackName  }}</p>
        </div>
        <div class="col-lg-9 col-xs-9 change row_first_right" >
            <div class="appinfo">
                <div class="trackName">{{ appBaseInfo.trackName }}</div>
                <div class="appinfor-author">
                    <p class="name">开发商</p>
                    <p class="content">{{ appBaseInfo.sellerName.substring(0,15) }}</p>
                </div>
                <div class="appinfor-id">
                    <p class="name">App ID</p>
                    <p class="content">{{ appBaseInfo.appleId }}</p>
                </div>
                <div class="appinfor-time">
                    <p class="name">更新日期</p>
                    <p class="content">{{ appBaseInfo.latestReleaseDate.substring(0,10) }}</p>
                </div>
            </div>
            <hr>
        </div>
    </div>  <!--first row end-->
    <div class="row">
        <div class="col-lg-3 col-xs-3 change row_second_left">
            <div class="subNavBox">
                <div class="nav  ">
                    <a ui-sref="appDetail">
                        <img src="/images/appDetail/rewrite.png" alt=""> <span style="margin-left:20px">任务需求编辑</span>
                    </a>
                </div>
                <ul class="navContent " style="display:block">
                    <!--<li><a href="#">需求编辑</a></li>-->
                </ul>
                <div class="nav">
                    <a ui-sref='appDetail-progress'>
                        <img src="/images/appDetail/rewrite.png" alt=""> <span style="margin-left:20px">任务进度及审核</span>
                    </a>
                </div>
                <ul class="navContent " style="display:block">
                    <!--<li><a href="#">需求编辑</a></li>-->
                </ul>

                <div class="subNav  currentDt" >
                    <img src="/images/appDetail/history.png" alt=""><span style="margin-left:22px" >交换任务记录</span>
                </div>
                <ul class="navContent">
                    <li><a ui-sref='appDetail-curHistory'>当前版本</a></li>
                    <li><a ui-sref='appDetail-preHistory'>以往版本</a></li>
                </ul>

                <div class="nav  ">
                    <a ui-sref='appDetail-addTask' >
                        <img src="/images/appDetail/addtask.png" alt=""><span style="margin-left:22px">外部交换工具</span>
                    </a>
                </div>
                <ul class="navContent">
                    <!--<li><a href="#">任务添加</a></li>-->
                </ul>
            </div>
        </div><!--col-lg-3 左侧导航-->

        <div class="col-lg-9 col-xs-9 change">
            <div ui-view></div>
        </div><!--col-lg-9 右侧改变的内容-->
   </div> <!--second row end-->
   
    <div class="modal modal-lg fade" id="myhistorydelete">
        <div class="modal-dialog" style="width:400px;position: absolute;right: 20px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                        <span class="sr-only">Close</span></button>
                    <h4 class="modal-title">删除提示</h4>
                </div>
                <div class="modal-body">
                    <p>确认删除此交换任务?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal" ng-click="removeHistory()">删除</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!--删除任务添加-->
    <div class="modal fade" id="mymodal">
        <div class="modal-dialog" style="width: 750px;height: 600px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <input  type="text" class="form-control" ng-model="searchKey" ng-keyup="keySearchApp($event)" placeholder="填写与你最新版本交换过的产品名称">
                      <span class="input-group-btn ">
                          <button class=" btn btn-search" type="submit" ng-click="searchHistoryApp()">
                              <span class="glyphicon glyphicon-search"></span>
                          </button>
                      </span>
                    </div>

                    <div class="placehold-line">
                        <div class="progress" ng-hide="!progressNum">
                            <div ng-class="{'progress-bar': true, 'progress-bar-striped':true, active:true}" ng-style="{width: progressNum + '%'}"></div>
                        </div>
                        <div class="alert-danger" role="alert" ng-hide="!isError">
                            {{ errorMsg }}
                        </div>
                    </div>
                    <hr/>

                    <div class="app_info" ng-repeat="app in pagedItems[currentPage]">
                        <div class="media-left">
                            <img class="media-object" ng-src="{{ app.artworkUrl512 }}" alt="App Icon">
                        </div>
                        <div class="media-body">
                            <h4 class="media-heading appName">{{ app.trackName.substr(0,10)+"..." }}</h4>
                            <div class="media-info">
                                <span class="media-info-appId">App ID:&nbsp;&nbsp;{{ app.appleId }}</span>
                            </div>
                        </div>
                        <div class=" media_right">
                            <button class=" btn  button_bottom " ng-click="addHistory(app)" ng-hide="app.isExced">
                                添加
                            </button>
                            <button class="btn btn-default  button_add hvr-float-shadow" ng-hide="!app.isExced">
                                已添加
                            </button>
                        </div>
                    </div>

                    <tfoot>
                    <div class="pagination">
                     <span ng-class="{disabled: currentPage == 0}" ng-show="pagedItems.length">
                        <a href ng-click="prevPage()">上一页</a>
                     </span>
                     <span ng-class="{disabled: currentPage == pagedItems.length - 1}" ng-show="pagedItems.length">
                        <a href ng-click="nextPage()">下一页</a>
                     </span>
                    </div>
                    </tfoot>
                </div>
            </div>
        </div>
    </div><!--任务添加弹窗部分-->
    <div class="modal fade" id="curHistoryDelete">
        <div class="modal-dialog" class="curHistoryDelete">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">删除提示</h4>
                </div>
                <div class="modal-body">
                    <p>确认删除此条交换纪录?一但删除将无法恢复.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal" ng-click="releaseHistory()">删除</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- 删除当前版本-->
    <div class="modal fade" id="preHistoryDelete">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">删除提示</h4>
                </div>
                <div class="modal-body">
                    <p>确认删除此条交换纪录?一但删除将无法恢复.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal" ng-click="releasePreHistory()">删除</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- 删除以往版本-->
    <div class="modal fade " id="search_history">
        <div class="modal-dialog" style="width: 750px;height: 600px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <input  type="text" class="form-control" ng-model="searchKey" ng-keyup="keySearchApp($event)" placeholder="填写与你最新版本交换过的产品名称">
                        <span class="input-group-btn ">
                            <button class="btn btn_search"type="submit" ng-click="searchHistoryApp()">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </span>
                     </div>
                <div class="placehold-line">
                    <div class="progress" ng-show="progressNum">
                        <div ng-class="{'progress-bar': true, 'progress-bar-striped':true, active:true}" ng-style="{width: progressNum + '%'}"></div>
                    </div>
                    <div class="alert alert-warning" role="alert" ng-show="isError">
                        {{ errorMsg }}
                    </div>
                </div>
                <hr>
                <div class="media app_info" ng-repeat="app in pagedItems[currentPage]" >
                    <div class="media-left">
                        <img class="media-object" ng-src="{{ app.artworkUrl512 }}" alt="App Icon">
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading appName">{{ app.trackName.substr(0,10)+"..."}}</h4>
                        <div class="media-info">
                            <span class="media-info-appId">App Id:&nbsp;&nbsp;{{ app.appleId }}</span>
                        </div>
                    </div>
                    <div class="media_right">
                        <button class="btn  button_bottom" ng-click="addExcHistory(app)" ng-hide="app.isExced">
                            添加
                        </button>
                        <button class=" btn btn-default  button_add hvr-float-shadow "ng-hide="!app.isExced">
                            已添加
                        </button>
                    </div>
                </div>
                <div class="pagination">
                        <span ng-class="{disabled: currentPage == 0}" ng-show="pagedItems.length">
                            <a href ng-click="prevPage()">上一页</a>
                        </span>

                        <span ng-class="{disabled: currentPage == pagedItems.length - 1}" ng-show="pagedItems.length">
                            <a href ng-click="nextPage()">下一页</a>
                        </span>
                </div>
                </div>
            </div>
        </div>
    </div><!-- 当前版本搜索记录-->

    <div class="modal modal-lg fade" id="rejectreason">
        <div class="modal-dialog" style="width:500px;position: absolute;right: 20px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title">填写拒绝理由</h4>
                </div>
                <div class="modal-body">
                   <textarea   class="from-control" style="width: 450px;height:200px;border-radius:4px;margin: auto;border: 1px solid #e0e0e0">
                   </textarea>
                </div>
                <div class="modal-footer">
                    <button type="button"  class="btn btn_sure" >确认</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!--删除任务添加-->

</div><!--container end-->
<script src="/javascripts/cookieHelper.js"></script>

</body>
</html>
